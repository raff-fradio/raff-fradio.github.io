<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>VirtueGuru</title>
    <link rel="stylesheet" href="codemirror/lib/codemirror.css">
    <link rel="stylesheet" href="codemirror/theme/darcula.css">
    <script src="codemirror/lib/codemirror.js"></script>
    <script src="codemirror/mode/javascript/javascript.js"></script>
    <script src="codemirror/addon/edit/closebrackets.js"></script>
    <script src="codemirror/addon/edit/closetag.js"></script>
    <style>
        body {
            margin: 0;
        }
        span {
            width: 100%;
        }
    </style>
</head>
<body>
    <textarea id="editor">
        function sum(a, b) {

        }
    </textarea>
    <button id="execute">Execute</button>
    <span id="result"></span>
    <script !src="">
        function runTest() {
            sum(100, 200);
        }
        let editor = CodeMirror.fromTextArea(document.getElementById("editor"), {
            mode: "javascript",
            lineNumbers: true,
            theme: "darcula",
            autoCloseBrackets: true,
        })
        document.getElementById("execute").onmouseup = () => {
            editor.save();
            eval(document.getElementById("editor").value);
            runTest();
        }
    </script>
</body>
</html>